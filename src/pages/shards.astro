---
import { getCollection } from "astro:content";
import BackToPage from "../components/BackToPage.astro";
import BasePageLayout from "../layouts/BasePageLayout.astro";
import TopicListLayout from "../layouts/TopicListLayout.astro";

const title = "Shards";
const description = 'Shards ou "Fragmentos", anotações menores de assuntos complementares para o entendimento de outras notas'
const allPosts = await getCollection("shards")
---

<BasePageLayout title={title}>
  <TopicListLayout
    title={title}
    description={description}
    cards={allPosts.map((p) => {
      return { tag: p.data.tags[0] === "draft" ? "Draft✏️" : undefined, hero: p.data.hero, title: p.data.title, description: p.data.description, pubDate: p.data.pubDate, url: `/${p.collection}/${p.slug}`, blank: undefined };
    })}
  />
  <BackToPage />
</BasePageLayout>
